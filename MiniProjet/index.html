<!DOCTYPE html>

<html>

    <head>
        <meta charset="UTF-8">
        <title>Pierre Feuille Ciseaux</title>
        <link rel="stylesheet" href="../sources/style.css">
        <script src="../sources/main.js"></script>
    </head>

    <body>
        <h1>Etes-vous plus fort que l'ordinateur ?</h1>

        <p>Bonjour ! Si vous etes ici c'est que vous souhaitez tester vos compétences en Pierre Feuille Ciseaux face à l'ordinateur ! Alors allez-y !</p>

        <div class="box">
            <button>Pierre</button>
          <button>Feuilles</button>
          <button>Ciseaux</button>
          </div>
          
          <div class="resultat"></div>

          <div class="score">
            <div class="scoreJoueur"></div>
            <div class="scoreOrdi"></div>
          </div>

          <div class="scoremancheJ"></div>
          <div class="scoremancheO"></div>

          <style>
            @import url('https://fonts.googleapis.com/css2?family=DotGothic16&display=swap');
            @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');

            body{
               background-image:url('https://abload.de/img/zeichenflche1-8ucont.png') ;
               overflow-x: hidden;
               font-family: 'Roboto', sans-serif;
               text-align: center;
            }

            h1{
                text-align: center;
                font-family: 'DotGothic16', sans-serif;
                width: auto;
            }
            .box {
                display : flex;
                align-items : center;
                justify-content : center;
                padding : 10px ;
              }

              button{
                display:inline-block;
                padding:0.35em 3em;
                background-color: #ffffff00;
                border:0.2em solid #000000;
                font: bold;
                margin:0 1em 0.3em 0;
                border-radius:0.12em;
                box-sizing: border-box;
                text-decoration:none;
                font-family:'Roboto',sans-serif;
                font-weight:300;
                color:#000000;
                text-align:center;
                transition: all 0.2s;
            } 
            button:visited{
                color: white;
            }
            button:hover{
                color:#ffffff;
                background-color:rgb(0, 0, 0);
                border:0.1em solid #ffffff;
                
            }
              button:active {
                transform : scale(0.90);
              }
              .resultat {
                height : 50px;
                text-align : center;
                font-weight: bold;
                font-size: 20px;
                padding : 10px;
              }

              .score{
                  margin-top: 50px;
                  font-size: 20px;
                  font-weight: bolder
              }

              .scoremancheJ{
                  margin-right: 800px;
                  font-size: 20px;
                  position: relative; top: 15px;
                  font-weight: bold;
              }

              .scoremancheO{
                  margin-left: 800px;
                  position: relative; bottom: 10px;
                  font-size: 20px;
                  font-weight: bold;
              }
          </style>
          <script>
            const buttons = document.querySelectorAll("button")
            
            var scoreJoueur = 0
            var scoreOrdi = 0
            var messageVicJ = ""
            var messageVicO = ""
            var scoremancheJ = 0
            var scoremancheO = 0
            var manchemessageJ = ""
            var manchemessageO = ""

            for (let i = 0; i < buttons.length; i++) {
              buttons[i].addEventListener('click', function() {
                var joueur = buttons[i].innerHTML
                var computerChoice = Math.random()

                if (computerChoice < 0.33) {
                    computerChoice = 'Pierre'
                } else if (computerChoice <= 0.66) {
                    computerChoice = 'Feuilles'
                } else {
                    computerChoice = 'Ciseaux'
                }
                ordi = computerChoice
                var resultat = ""
              
                if (joueur===ordi) {
                  resultat = "Egalité !</br>" + joueur + " ne peut pas battre "+ ordi
                }
                else if ((joueur === "Pierre" && ordi === "Ciseaux") || (joueur === "Ciseaux" && ordi === "Feuilles") || (joueur === "Feuilles") && (ordi === "Pierre")) {
                  resultat = "Vous avez gagné ! " + "</br>Voici votre choix : " + joueur + " </br>Voici le choix de l'adversaire : " + ordi
                  scoreJoueur ++
                }
                else {
                  resultat = "Vous avez Perdu ! </br>L'ordinateur à joué : " + ordi + " </br>Vous avez joué : " + joueur
                  scoreOrdi ++
                }
              document.querySelector(".resultat").innerHTML = `
              ${resultat}
            `  ;
                
             document.querySelector(".scoreJoueur").innerHTML = `
             Vous : ${scoreJoueur}
             ${messageVicJ}
            `  ;

             document.querySelector(".scoreOrdi").innerHTML = `
             Ordinateur : ${scoreOrdi}
             ${messageVicO}
            `  ; 

            document.querySelector(".scoremancheJ").innerHTML = `
            Manche gagnée par vous : ${scoremancheJ}
            ${manchemessageJ}
            `  ; 

            document.querySelector(".scoremancheO").innerHTML = `
            Manche gagnée par l'ordinateur : ${scoremancheO}
            ${manchemessageO}
            `  ; 

            if(scoreJoueur === 5){
                messageVicJ = "</br>Victoire pour vous !"
                scoremancheJ ++
                scoreJoueur = 0
                scoreOrdi = 0
            } else if (scoreOrdi === 5){
                messageVicO = "</br>Victoire pour l'ordinateur !"
                scoremancheO ++
                scoreJoueur = 0
                scoreOrdi = 0
            } else if (scoreJoueur === 0 || scoreOrdi === 0) {
                messageVicO = ""
                messageVicJ = ""
            }

            if(scoremancheJ === 3) {
                manchemessageJ = "</br>Félicitations vous avez vaincus l'ordinateur !"
                scoremancheJ = 0
                scoremancheO = 0
            } else if (scoremancheO === 3) {
                manchemessageO = "</br>Dommage ! l'ordinateur vous as vaincus mais vous êtes capable de le faire ! "
                scoremancheJ = 0
                scoremancheO = 0
            } else if (scoremancheJ === 0 || scoremancheO === 0) {
                manchemessageJ = ""
                manchemessageO = ""
            }
              });
            }
          </script>
    </body>

</html>